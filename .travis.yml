language: node_js
notifications:
  email: jhosef@gmail.com
node_js:
- iojs
services:
- mongodb
env:
  global:
  - NODE_ENV: test
addons:
  sauce_connect: true
before_install:
- npm install -g bower
- npm install -g grunt-cli
- npm install -g karma-cli
- npm install -g protractor@1.5
- webdriver-manager update
- bower install
before_script:
- node test/data.js
- grunt minifica
script:
- karma start config/karma.config.js --single-run --browsers PhantomJS
- node server &
- protractor config/protractor.js
before_deploy:
- git config --global user.email 'travis@travis-ci.com'
- git config --global user.name 'Travis CI'
- git checkout $TRAVIS_BRANCH
- git add --all
- git commit -am "Travis commit"
deploy:
  provider: openshift
  user: jhosef@gmail.com
  password:
    secure: GVSO7aA4OfuhomdBX0rMGDThSpwpkLbR6g0QUwLp458OIec90y1f64SGng3QE8tzt0wqafzj8z63weGJ/x3l3y0nVWa0jJN0/vr0stj+EGKzry4iag5UPMrkCFAFI6IGvf/B8U1c/iulbjYZjbQX9qU4R9uQA+f5i+wyhlFcMBdsIAm7H3e43mUioWw4w5eZcqPznxQ9TQXeYtnCyMNbriw9EPWH0f6UD+NiVXWW+V6B5uI2U5ay3MvykzfThRoYVePZ4EdhZYngW9ie71L0pTqZmp74eAw7OyyMrqhbOep30LkZP+qauQUHE/p5b4A6c9gPL4fYforOLl939M5d0M+ZP2mIAipQvgHcN5VbPKaHY0JAiuV1FIl/BKbPDmCKWKqLuSZ302dV22NKl5ZaiX+JAt2ucHPUsB9TAltsQgDVVpwK7AbpVYBK4fTMs+W8lawupDAlTxj4JwDYcvKv2TScxC0V+f3sbnlzilwtNTvL4Ds+m69dlo2LOmre+mhBqqAX5oTAhSpMWClg5tmwxdDfSf7eOo1TPHq8s63BKGMEpQK14+RRpQ3bYH0ye7DEnhAsdkpJ80fFf7up5KJ/aqixxhnrQk4YQw8loECfgj5klL44/SjWNUPO4nC6K86D80jdfQ/pIkgkw1trFQH9OpVrNmLo7L190ScmrMy/7Qk=
  app: contatooh
  domain: jhosefmarks
  on:
    repo: jhosefmarks/contatooh
